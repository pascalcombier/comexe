.PHONY: all clean

all: bin/libluv.a

bin/luv.o: src/luv.c
	$(CC) -ggdb -fvisibility=hidden --std=c99 -Wall -Wextra -Os -I../lua/src -I../libuv/include -Wno-missing-braces -Wno-sign-compare -Wno-unused-function -Wno-maybe-uninitialized -D_GNU_SOURCE -D_FILE_OFFSET_BIT=64 -D_LARGEFILE_SOURCE -pthread -c src/luv.c -o bin/luv.o

bin/libluv.a: bin/luv.o
	ar rcs $@ $^

clean:
	rm -f bin/luv.o bin/libluv.a
